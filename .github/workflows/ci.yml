name: Build Auritia

on: [push, pull_request, workflow_dispatch]

jobs:
  build-linux:
    name: "Compile for Linux"
    runs-on: ubuntu-latest
    steps:

    - name: ğŸ› Checkout
      uses: actions/checkout@v2

    - name: ğŸ“¥ Install System Dependancies 
      run: "sudo apt update && sudo apt install libwebkit2gtk-4.0-dev build-essential curl wget libssl-dev libgtk-3-dev libappindicator3-dev patchelf librsvg2-dev"

    - name: ğŸ“¥ Install Dependancies
      run: "npm i"

    - name: ğŸ›  Build 
      run: npm run compile

    - name: ğŸ—³ Upload artifact 
      uses: actions/upload-artifact@v1
      with:
        name: auritia_compiled_linux
        path: src-tauri/target/release/auritia