name: Build Auritia

on: [push]

jobs:
  build-linux:
    name: "ğŸ§ Compile for Linux"
    runs-on: self-hosted
    strategy:
      fail-fast: false
      matrix:
        targetPlatform: 
          - 1
          - 2
          - 3
          - 4
          - 5
          - 6
          - 7
          - 8
          - 9
          - 10
          - 11
          - 12
          - 13
          - 14
          - 15
          - 16
          - 17
          - 19
          - 20
          - 21
          - 22
          - 23
          - 24
          - 25
          - 26
          - 27
          - 28
    steps: 

    - name: ğŸ§ª Environment Info
      run: "npx envinfo"

    - name: ğŸ› Checkout
      uses: actions/checkout@v2

    - name: âš¡ Install NPM Dependancies
      run: "npm i"

    - name: ğŸ›  Build 
      run: npm run compile

    - name: ğŸ—³ Upload artifact 
      uses: actions/upload-artifact@v1
      with:
        name: auritia_compiled_linux_${{matrix.targetPlatform}}
        path: src-tauri/target/release/auritia